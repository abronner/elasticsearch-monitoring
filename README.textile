h1. elasticsearch-monitoring

h2. Cluster monitoring with elasticsearch and kibana

This is an elegant way to monitor your elasticsearch cluster. See the screenshot below. 

The idea is simple and straightforward:
* get statistics via nodes stats API and index them back in elasticsearch, 
* repeat it periodically (e.g. every 5 minutes),
* use ttl to automatically limit statistics history (e.g. 60 days),
* visualize the cluster statistics with kibana.

h2. Installing and Running

h4. Create the index:

Execute @scripts/elasticsearch-nodes-stats-mapping.sh@ on one of your cluster nodes.

h4. Install the script:

Copy @scripts/elasticsearch-nodes-stats.sh@ to one of your cluster nodes.
Start executing it periodically, e.g. using crontab.

h4. Load kibana dashboard: 

Install "kibana":http://www.elasticsearch.org/overview/kibana/installation and load @dashboards/monitoring-dashboard.json@. 

h2. Details and Notes

...

h2. Screenshots

Two production nodes, sampling nodes stats every 5 minutes, keeping history for 60 days:

!screenshots/kibana-screenshot-1.png!
!screenshots/kibana-screenshot-2.png!
!screenshots/kibana-screenshot-3.png!

